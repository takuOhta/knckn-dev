@use "sass:math";

@use '/src/styles/global/config/size' as c-size;
@use '/src/styles/global/abstracts/mixin/sass' as a-sass;
@use '/src/styles/global/abstracts/mixin/size' as a-size;

//
// font
//

///
/// - æ—¥æœ¬èªžç¸¦æ›¸ãè¡¨ç¤º
///
/// @group font
@mixin font-vertical() {
  -webkit-writing-mode: vertical-rl;
  -ms-writing-mode: tb-rl;
  writing-mode: vertical-rl;
  font-feature-settings: normal; // ç¸¦æ›¸ãã®ã¨ãã¯æ–‡å­—è©°ã—ãªã„
  text-orientation: upright;

  * {
    font-feature-settings: normal;
  } // ç¸¦æ›¸ãã®ã¨ãã¯æ–‡å­—è©°ã—ãªã„
}

///
/// - è‹±èªžèªžç¸¦æ›¸ãè¡¨ç¤º
///
/// @group font
@mixin font-vertical-en() {
  -webkit-writing-mode: vertical-rl;
  -ms-writing-mode: tb-rl;
  writing-mode: vertical-rl;
  font-feature-settings: normal; // ç¸¦æ›¸ãã®ã¨ãã¯æ–‡å­—è©°ã—ãªã„
  * {
    font-feature-settings: normal;
  } // ç¸¦æ›¸ãã®ã¨ãã¯æ–‡å­—è©°ã—ãªã„
}

///
/// @param {Number} $value - PSDã®ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã®æ•°å€¤
/// PSDã®ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã®æ•°å€¤å¤‰æ›ç”¨
/// @group font
@mixin tracking($value) {
  letter-spacing: math.div($value,1000) + em;
}

///
/// @param {Number} $value - PSDã®ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã®æ•°å€¤
/// font-feature-settings: 'palt' ã‚’æŒ‡å®šã—ã¦ã‚‹å ´åˆã®letter-spacing
/// PSDã§ãƒ—ãƒ­ãƒãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’æŒ‡å®šã—ã¦ã„ã‚‹å ´åˆã¯ trackingã®æ–¹ã‚’ä½¿ç”¨ðŸ‘†
/// * 2 ã¯ãƒ•ã‚©ãƒ³ãƒˆãƒ•ã‚¡ãƒŸãƒªãƒ¼ã«ã‚ˆã£ã¦è¦èª¿æ•´
///
/// @group font
@mixin tracking-palt($value) {
  letter-spacing: math.div($value,1000 * 2) + em;
}

///
/// @param {Number} $font-size - è¦ç´ ã®ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º
/// @param {Number} $value - PSDã®æ®µè½ã®æ•°å€¤
///
/// @group font
@mixin lineHeight($font-size, $value) {
  line-height: math.div($value,$font-size);
}

/// ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å¹…ã«ã‚ˆã£ã¦å¯å¤‰ã«ãªã‚‹ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºï¼ˆæœ€å°ãƒ»æœ€å¤§å€¤è¾¼ã¿ï¼‰
/// @param {Number(any)} $font-size[14px] - ãƒ‡ã‚¶ã‚¤ãƒ³ä¸Šã®ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º(px)
/// @param {Number(any)} $min[$font-size * math.div($base-width-min,$base-width-pc)] - æœ€å°å€¤(px)
/// @example
/// .selector {
///   @include font-size-variable-pc(20px);
///   @include font-size-variable-pc(20px, 12px);
/// }
/// @group font
@mixin font-size-variable-pc($font-size, $min: 0) {
  $font-size: if($font-size, $font-size, $font-size-base-px);
  $min: if(
    $min > 0,
    $min,
    if(
      a-sass.remove-unit($font-size * math.div(c-size.$base-width-min,c-size.$base-width-pc)) < 10,
      10px,
      0
    )
  );

  font-size: a-size.size-variable-pc($font-size);

  @if $min > 0 {
    @media screen and (max-width: math.div(c-size.$base-width-pc * a-sass.remove-unit($min),a-sass.remove-unit($font-size))) {
      font-size: a-sass.remove-unit($min) * 1px;
    }
  }
}

/// ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å¹…ã«ã‚ˆã£ã¦å¯å¤‰ã«ãªã‚‹ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºï¼ˆæœ€å°ãƒ»æœ€å¤§å€¤è¾¼ã¿ï¼‰ (SP)
/// @param {Number(any)} $font-size[13px * 2] - ãƒ‡ã‚¶ã‚¤ãƒ³ä¸Šã®ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º(px)
/// @param {Number(any)} $min[$font-size * math.div($base-width-min-sp,$base-width-sp)] - æœ€å°å€¤(px)
/// @example
/// .selector {
///   @include font-size-variable-sp(30px);
///   @include font-size-variable-sp(30px, 12px);
/// }
/// @group font
@mixin font-size-variable-sp($font-size: $font-size-base-px-sp, $min: 0) {
  $min: if(
    $min > 0,
    $min,
    if(
      a-sass.remove-unit($font-size * math.div(c-size.$base-width-min-sp,c-size.$base-width-sp)) < 20,
      20px,
      0
    )
  );

  font-size: a-size.size-variable-sp($font-size);

  @if $min > 0 {
    @media screen and (max-width: a-size.sp-px(math.div(c-size.$base-width-sp * a-sass.remove-unit($min),a-sass.remove-unit($font-size)))) {
      font-size: a-size.sp-px($min);
    }
  }
}
